-- +goose Up
-- +goose StatementBegin
SELECT 'up SQL query';


CREATE TABLE first_exploits (
	id int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,

	user_id int REFERENCES users (id) ON DELETE CASCADE,
	task_id int REFERENCES tasks (id) ON DELETE CASCADE,
	run_id int REFERENCES exploit_runs(run_id) ON DELETE CASCADE,

	created_at TIMESTAMP WITH TIME ZONE DEFAULT now(),

	UNIQUE (user_id, run_id)
);



-- +goose StatementEnd

-- +goose Down
-- +goose StatementBegin
SELECT 'down SQL query';
-- +goose StatementEnd
